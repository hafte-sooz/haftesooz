# هفته سوز (Haftesooz) - Weekly Schedule Generator

یک اپلیکیشن ساده برای ایجاد برنامه هفتگی دروس با استفاده از FastAPI و Python.

## ویژگی‌ها

- ایجاد برنامه هفتگی دروس با قابلیت انتخاب روزها و ساعات مختلف
- پشتیبانی کامل از زبان فارسی و راست‌چین
- رابط کاربری زیبا و کاربردی
- تولید نمودار PNG با کیفیت بالا
- امکان دانلود تصویر برنامه

## نصب و راه‌اندازی

### پیش‌نیازها

- Python 3.8 یا بالاتر
- pip

### مراحل نصب

1. کلون کردن پروژه:

```bash
git clone <repository-url>
cd haftesooz
```

2. نصب وابستگی‌ها:

```bash
pip install -r requirements.txt
```

3. اجرای برنامه:

```bash
python main.py
```

یا با استفاده از uvicorn:

```bash
uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

4. باز کردن مرورگر:

```
http://localhost:8000
```

## نحوه استفاده

1. در صفحه اصلی، نام درس و تعداد واحد آن را وارد کنید
2. برای هر درس، روز و ساعات مورد نظر را انتخاب کنید
3. در صورت نیاز، می‌توانید چندین زمان برای یک درس اضافه کنید
4. با کلیک روی "افزودن درس جدید" دروس بیشتری اضافه کنید
5. پس از تکمیل اطلاعات، روی "ایجاد برنامه" کلیک کنید
6. برنامه هفتگی شما به صورت تصویر نمایش داده می‌شود
7. می‌توانید تصویر را دانلود کنید

## ساختار پروژه

```
haftesooz/
├── main.py                 # فایل اصلی FastAPI
├── requirements.txt        # وابستگی‌های پروژه
├── README.md              # راهنمای استفاده
├── templates/             # قالب‌های HTML
│   └── index.html         # صفحه اصلی
├── static/                # فایل‌های استاتیک
│   ├── style.css          # استایل‌های CSS
│   └── script.js          # کدهای JavaScript
└── generated_charts/      # تصاویر تولید شده
```

## تکنولوژی‌های استفاده شده

- **FastAPI**: فریمورک وب سریع و مدرن Python
- **Jinja2**: موتور قالب برای HTML
- **Matplotlib**: تولید نمودارها و تصاویر
- **HTML/CSS/JavaScript**: رابط کاربری
- **Bootstrap-inspired CSS**: طراحی ریسپانسیو

## پشتیبانی از فارسی

- تمامی متون به صورت راست‌چین و فارسی
- پشتیبانی از فونت‌های فارسی
- نام روزهای هفته به فارسی
- اعداد و ساعات به فارسی

## مجوز

این پروژه تحت مجوز MIT منتشر شده است.

## مشارکت

برای مشارکت در این پروژه:

1. فورک کنید
2. برنچ جدید ایجاد کنید
3. تغییرات خود را کامیت کنید
4. پول ریکوست ارسال کنید

## پشتیبانی

## استقرار روی cPanel / Passenger (WSGI)

برای استقرار این برنامه روی cPanel که از Passenger و WSGI استفاده می‌کند، فایل‌های کمکی زیر اضافه شده‌اند:

- `wsgi.py`: یک لایه‌ی wrapper که `main.app` (FastAPI ASGI app) را با یک آداپتور ASGI→WSGI بسته‌بندی می‌کند و یک callable به نام `application` صادر می‌کند.
- `passenger_wsgi.py`: بارگذار پیش‌فرض Passenger که `application` را از `wsgi.py` وارد می‌کند.

نکات مهم:

- Passenger نیاز به یک اپ WSGI به نام `application` دارد؛ `wsgi.py` همین callable را فراهم می‌کند.
- برای عملکرد صحیح باید یک آداپتور ASGI→WSGI در virtualenv نصب باشد. دو گزینه رایج:
  - `asgiref` (تأمین‌کننده‌ی `AsgiToWsgi`) — نصب: `pip install asgiref`
  - `asgi2wsgi` — نصب: `pip install asgi2wsgi`

اگر هیچ آداپتوری نصب نشده باشد، `wsgi.py` یک پاسخ خطای مفید برمی‌گرداند و به شما می‌گوید چه پکیج‌هایی را نصب کنید.

نمونه دستورالعمل سریع برای cPanel (در virtualenv پروژه):

```fish
# در روت پروژه، وِیرچوال‌انور را فعال کنید
source haftesooz_env/bin/activate.fish

# نصب یک آداپتور (مثال)
pip install asgiref

# سپس Passenger را از طریق cPanel بارگذاری مجدد کنید یا وب‌سایت را ری‌استارت کنید
```

اگر نیاز دارید من می‌توانم کمک کنم تا یک فایل `Procfile` یا یک دستور systemd/upervisor برای میزبان شما ایجاد کنیم.

در صورت بروز مشکل یا پیشنهاد، لطفاً Issue جدید ایجاد کنید.
